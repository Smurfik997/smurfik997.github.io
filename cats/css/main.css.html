<html>
    <body></body>
    <script>
        function GET(key) {
            var url = document.URL;
            var items = url.split('?')[1].split('&');   
            var res = {};

            items.forEach(function(val) {
                res[String(val.split('=')[0])] = String(val.split('=')[1]);
            });

            return res[key] ? res[key] : 'Invalid Key';
        }

        var heightCSS =  {
            ".browserIcon": {
                "width": 12,
                "height": 12,
                "margin-top": 9
            },
            "#header": {
                "height": 30,
                "font-size": 16
            },
            "#pageName": {
                "line-height": 30
            }
        };

        var widthCSS =  {
            "#mainBlock": {
                "width": 720
            }
        };

        var error = {
            "error": 1
        }

        heightCSS["#content"] = new Object;
        widthCSS["#content"] = new Object;
        heightCSS["#browserPanel"] = new Object;
        widthCSS["#browserPanel"] = new Object;

        if (GET('orientation') == 'height') {
            heightCSS["#browserPanel"]["left"] = 6;
            widthCSS["#content"]["width"] = 612;
            heightCSS["#content"]["border-radius"] = 5;
            widthCSS["#content"]["height"] = widthCSS["#content"]["width"] / parseInt(GET('width')) * parseFloat(GET('height'));
            widthCSS["#content"]["margin-left"] = 0 - widthCSS["#content"]["width"] / 2;
            widthCSS["#content"]["margin-top"] = (heightCSS["#header"]["height"] * parseFloat(GET('scaleY')) - widthCSS["#content"]["height"]) / 2;
        } else {
            widthCSS["#browserPanel"]["left"] = 6;
            heightCSS["#content"]["height"] = 350;
            widthCSS["#content"]["border-radius"] = 5;
            heightCSS["#content"]["width"] = heightCSS["#content"]["height"] / parseInt(GET('height')) * parseFloat(GET('width'));
            heightCSS["#content"]["margin-left"] = 0 - heightCSS["#content"]["width"] / 2;
            heightCSS["#content"]["margin-top"] = (heightCSS["#header"]["height"] - heightCSS["#content"]["height"]) / 2;
        }

        if (GET('orientation') != 'Invalid Key' && GET('width') != 'Invalid Key' && GET('height') != 'Invalid Key' && GET('scaleX') != 'Invalid Key' && GET('scaleY') != 'Invalid Key') {
            document.body.innerText = JSON.stringify(eval(GET('file')), null, 4);
        } else {
            document.body.innerText = JSON.stringify(error, null, 4);
        }
    </script>
</html>