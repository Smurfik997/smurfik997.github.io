{"version":3,"sources":["App.js","index.js"],"names":["Mobile","React","createContext","Graph","props","nodeUpdate","index","newPosition","setState","state","nodes","left","top","nodeDelete","edges","forEach","edge","indexEdge","i","length","splice","crosshair","display","edgeDelete","crosshairState","x","y","paintAlgo","colorSeed","nodesCount","matrix","Array","fill","_","node","push","n","k","color","max","j","painted","freeNode","textColor","Math","min","colorSeedUpdate","newColorSeed","drag","e","target","_this","callback","TouchEndEvent","document","ontouchend","mobile","style","cursor","crosshairPos","scale","offsetLeft","clientWidth","offsetTop","clientHeight","pointerPos","touches","pageX","pageY","ontouchmove","preventDefault","pos","className","parseInt","innerText","onmousemove","onmouseup","position","this","v1","v2","Error","Provider","value","id","DOMElement","map","key","update","delete","enable","Component","Node","backgroundColor","onTouchStart","onMouseDown","context","onDoubleClick","contextType","Edge","angle","atan","PI","height","sqrt","cos","sin","transform","Crosshair","EdgeBar","focusOut","persist","relatedTarget","current","tagName","graph","querySelector","addEdge","body","createRef","onSubmit","ref","placeholder","onFocus","select","setAttribute","onBlur","onClick","PaintButton","ReactDOM","render","window","navigator","maxTouchPoints","longTouch","onmousedown","altKey","addNode","ondblclick","ontouchstart","setTimeout","clearTimeout"],"mappings":"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","file":"static/js/main.0f079e07.chunk.js","sourcesContent":["import React from 'react';\n\nconst Mobile = React.createContext();\n\n//=================================================================================\n//=================================================================================\n\nclass Graph extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            'nodes': [],\n            'edges': [],\n            'crosshair': {\n                'enable': true,\n                'display': false,\n                'top': 0,\n                'left': 0\n            },\n            'colorSeed': [\n                [1867, 4931, 6073],\n                131,\n                110,\n                80\n            ],\n            'mobile': false,\n            'scale': 2.7\n        }\n    }\n\n    addNode(position = [0, 0]) {\n        this.setState((state) => {\n            state.nodes.push({\n                left: position[0] > 0? position[0] : 0,\n                top: position[1] > 0? position[1] : 0\n            });\n\n            return state;\n        });\n    }\n\n    addEdge(v1, v2) {\n        if (this.state.nodes[v1] && this.state.nodes[v2] && v1 !== v2) {\n            this.setState((state) => {\n                state.edges.push([v1, v2]);\n\n                return state;\n            });\n            return 'success';\n        }\n\n        throw Error('Саша ИЗВИНИ');\n    }\n\n    nodeUpdate = (index, newPosition) => {\n        this.setState((state) => {\n            state.nodes[index].left = newPosition[0];\n            state.nodes[index].top = newPosition[1];\n\n            return state;\n        });\n    }\n\n    nodeDelete = (index) => {\n        this.setState((state) => {\n            state.edges.forEach((edge, indexEdge) => {\n            if (edge[0] === index || edge[1] === index)\n                state.edges[indexEdge] = null;\n            })\n\n            let i = 0\n            while (i < state.edges.length) {\n                if (state.edges[i] === null) state.edges.splice(i, 1); else i++;\n            }\n\n            state.nodes[index] = null;\n            state.crosshair.display = false;\n\n            return state;\n        });\n    }\n\n    edgeDelete = (index) => {\n        this.setState((state) => {\n            state.edges.splice(index, 1);\n\n            return state;\n        });\n    }\n\n    crosshair = (crosshairState, x, y) => {\n        this.setState((state) => {\n            if (x) state.crosshair.left = x;\n            if (y) state.crosshair.top = y;\n            state.crosshair.display = crosshairState;   \n\n            return state;\n        });\n    }\n\n    paintAlgo = () => {\n        const colorSeed = this.state.colorSeed;\n\n        let nodes = [],\n            nodesCount = this.state.nodes.length,\n            edges = this.state.edges;\n        let matrix = new Array(nodesCount).fill(0);\n        matrix.forEach((_, i) => matrix[i] = new Array(nodesCount));\n\n        edges.forEach((edge) => {\n            matrix[edge[0]][edge[1]] = 1;\n            matrix[edge[1]][edge[0]] = 1;\n        })\n\n        this.state.nodes.forEach((node, i) => {\n            if (node) {\n                nodes.push(node);\n                let n = 0;\n\n                for (let k = 0; k < nodesCount; k++)\n                    if (matrix[i][k] === 1) n++;\n\n                nodes[nodes.length - 1].color = null;\n                nodes[nodes.length - 1].index = i;\n                nodes[nodes.length - 1].n = n;\n            }\n        });\n\n        for (let i = 0; i < nodes.length; i++) {\n            let max = i;\n\n            for (let j = i + 1; j < nodes.length; j++)\n                if (nodes[max].n < nodes[j].n) max = j;\n\n            [nodes[i], nodes[max]] = [nodes[max], nodes[i]];\n        }\n\n        let color = 1, painted = 0;\n        \n        while (painted < nodes.length) {\n            painted = 0;\n\n            for (let i = 0; i < nodes.length; i++) {\n                if (!nodes[i].color) {\n                    let freeNode = true;\n\n                    for (let j = 0; j < nodes.length; j++) {\n                        if (nodes[j].color && nodes[j].color === color && matrix[nodes[i].index][nodes[j].index] === 1) {\n                            freeNode = false;\n                            break;\n                        }\n                    }\n\n                    if (freeNode) nodes[i].color = color;\n                } else painted++;\n            }\n\n            color++;\n        }\n\n        nodes.forEach((node, i) => {\n            nodes[i].color = [\n                colorSeed[0][0] * node.color % colorSeed[1] + colorSeed[2], \n                colorSeed[0][1] * node.color % colorSeed[1] + colorSeed[2], \n                colorSeed[0][2] * node.color % colorSeed[1] + colorSeed[2]\n            ];\n            nodes[i].textColor = [\n                Math.min(nodes[i].color[0] + colorSeed[3], 255), \n                Math.min(nodes[i].color[1] + colorSeed[3], 255), \n                Math.min(nodes[i].color[2] + colorSeed[3], 255)\n            ];\n        });\n        this.setState({nodes: this.state.nodes});\n\n        return color - 2;\n    }\n\n    colorSeedUpdate = (newColorSeed) => {\n        this.setState({colorSeed: newColorSeed});\n        this.paintAlgo();\n    }\n\n    drag = (e, target, _this, callback, crosshairState = false) => {\n        const TouchEndEvent = document.ontouchend;\n        \n        if (this.state.mobile !== true) target.style.cursor = 'grabbing';\n        let crosshairPos = [0, 0],\n            scale = 1.0;\n\n        if (this.state.mobile === true) scale *= this.state.scale;\n\n        if (crosshairState) {\n            crosshairPos[0] = target.offsetLeft + target.clientWidth / 2 - 0.8 * scale;\n            crosshairPos[1] = target.offsetTop + target.clientHeight / 2 - 0.8 * scale;\n            this.crosshair(true, crosshairPos[0], crosshairPos[1], target);\n        }\n\n        if (this.state.mobile === true) {\n            const pointerPos = [\n                e.touches[0].pageX - target.offsetLeft,\n                e.touches[0].pageY - target.offsetTop\n            ];\n\n            document.ontouchmove = (e) => {\n                e.preventDefault();\n                let pos = [e.touches[0].pageX - pointerPos[0], e.touches[0].pageY - pointerPos[1]];\n                if ((pos[0] < 0 || pos[1] < 0) && target.className === 'Node') {\n                    this.nodeDelete(parseInt(target.innerText));\n                } else {\n                    if (pos[0] < 0) pos[0] = 0;\n                    if (pos[1] < 0) pos[1] = 0;\n                    crosshairPos[0] = pos[0] + target.clientWidth / 2 - 0.8 * scale;\n                    crosshairPos[1] = pos[1] + target.clientHeight / 2 - 0.8 * scale;\n                    if (crosshairState) this.crosshair(true, crosshairPos[0], crosshairPos[1]);\n                    callback(_this, pos);\n                }\n            }\n            \n            document.ontouchend = (e) => {\n                if (crosshairState) this.crosshair(false);\n                document.ontouchmove = () => {}\n                document.ontouchend = TouchEndEvent;\n            }\n        } else {\n            const pointerPos = [\n                e.pageX - target.offsetLeft,\n                e.pageY - target.offsetTop\n            ];\n\n            document.onmousemove = (e) => {\n                let pos = [e.pageX - pointerPos[0], e.pageY - pointerPos[1]];\n                if (pos[0] < 0) pos[0] = 0;\n                if (pos[1] < 0) pos[1] = 0;\n                crosshairPos[0] = pos[0] + target.clientWidth / 2 - 0.8 * scale;\n                crosshairPos[1] = pos[1] + target.clientHeight / 2 - 0.8 * scale;\n                if (crosshairState) this.crosshair(true, crosshairPos[0], crosshairPos[1]);\n                callback(_this, pos);\n            }\n\n            document.onmouseup = (e) => {\n                target.style.cursor = 'grab';\n                if (crosshairState) this.crosshair(false);\n                document.onmousemove = () => {}\n                document.onmouseup = () => {}\n            }\n        }\n    }\n\n    render() {\n        return (\n            <Mobile.Provider value={{\n                mobile: this.state.mobile,\n                scale: this.state.scale\n            }}>\n                <div id={this.props.DOMElement['Nodes']}>\n                    {this.state.nodes.map((node, index) => {\n                        return node? <Node\n                            key={index} \n                            index={index} \n                            nodes={this.state.nodes} \n                            update={this.nodeUpdate} \n                            delete={this.nodeDelete}\n                            drag={this.drag}\n                            color={node.color}\n                            textColor={node.textColor}\n                        /> : null;\n                    })}\n                </div>\n                <div id={this.props.DOMElement['Edges']}>\n                    {this.state.edges.map((edge, index) => <Edge\n                        key={index} \n                        index={index} \n                        delete={this.edgeDelete}\n                        v1={this.state.nodes[edge[0]]} \n                        v2={this.state.nodes[edge[1]]}\n                    />)}\n                </div>\n                {this.state.crosshair.enable && this.state.crosshair.display? <Crosshair\n                    left={this.state.crosshair.left}\n                    top={this.state.crosshair.top}\n                    target={this.state.crosshair.target}\n                /> : null}\n            </Mobile.Provider>\n        )\n    }\n}\n\n//=================================================================================\n//=================================================================================\n\nclass Node extends React.Component {\n    static contextType = Mobile;\n\n    constructor(props) {\n        super(props);\n    }\n\n    drag = (e) => {\n        this.props.drag(e, e.target, this, (_this, pos) => {\n            _this.props.update(this.props.index, [pos[0], pos[1]]);\n        }, true)\n    }\n    \n    render() {\n        const color = this.props.color,\n                textColor = this.props.textColor;\n\n        return (\n            <button\n                className='Node'\n                style={{\n                    left: this.props.nodes[this.props.index].left,\n                    top: this.props.nodes[this.props.index].top,\n                    backgroundColor: color? `rgb(${color[0]}, ${color[1]}, ${color[2]})`: '',\n                    color: textColor? `rgb(${textColor[0]}, ${textColor[1]}, ${textColor[2]})`: ''\n                }}\n                onTouchStart={this.drag}\n                onMouseDown={(e) => {\n                    if (!this.context.mobile) this.drag(e);\n                }}\n                onDoubleClick={(e) => {\n                    e.preventDefault();\n                    this.props.delete(this.props.index)}\n                }\n            >\n                {this.props.index}\n            </button> \n        )\n    }\n}\n\n//=================================================================================\n//=================================================================================\n\nclass Edge extends React.Component {\n    static contextType = Mobile;\n\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n        let [v1, v2] = [this.props.v1, this.props.v2];\n        const [x, y] = [v1.left - v2.left, v1.top - v2.top];\n        let angle = Math.atan(y / x);\n        if (x >= 0) angle += Math.PI;\n        angle -= Math.PI / 2;\n\n        let scale = 1.0;\n        if (this.context.mobile === true) scale *= this.context.scale;\n\n        return (\n            <div\n                className='Edge'\n                style={{\n                    height: Math.sqrt(x*x + y*y),\n                    left: v1.left + 27 * scale / 2 - 2 * Math.cos(angle) * scale,\n                    top: v1.top + 27 * scale / 2 - 2 * Math.sin(angle) * scale,\n                    transform: `rotate(${angle}rad)`\n                }}\n                onDoubleClick={() => this.props.delete(this.props.index)}\n            />\n        )\n    }\n}\n\n//=================================================================================\n//=================================================================================\n\nclass Crosshair extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n        return (\n            <div>\n                <div id=\"crosshairVert\" style={{left: this.props.left}}/>\n                <div id=\"crosshairHorizontal\" style={{top: this.props.top}}/>\n            </div>\n        )\n    }\n}\n\n//=================================================================================\n//=================================================================================\n\nclass EdgeBar extends React.Component {\n    constructor(props) {\n        super(props);\n        let scale = 1.0;\n        if (this.props.graph.state.mobile === true) scale *= this.props.graph.state.scale;\n\n        this.state = {\n            left: this.props.graph.state.mobile? document.body.clientWidth - 130 * scale : (document.body.clientWidth - 120) / 2,\n            top: 10 * scale\n        }\n        this.v1 = React.createRef();\n        this.v2 = React.createRef();\n    }\n\n    focusOut = (e, index) => {\n        e.persist();\n\n        if (e.relatedTarget && e.relatedTarget.className === \"Node\") {\n            this[`v${index}`].current.value = e.relatedTarget.innerText;\n        }\n    }\n\n    drag = (e) => {\n        if (e.target.tagName !== 'INPUT') {\n            this.props.graph.drag(e, document.querySelector('#edge_bar'), this, (_this, pos) => {\n                _this.setState({left: pos[0], top: pos[1]})\n            })\n        }\n    }\n\n    addEdge = (e) => {\n        e.preventDefault();\n        const res = this.props.graph.addEdge(this.v1.current.value, this.v2.current.value);\n        //error\n    }\n\n    render() {\n        return (\n            <form\n                onMouseDown={this.drag}\n                onTouchStart={this.drag}\n                onSubmit={(e) => this.addEdge(e)}\n                id=\"edge_bar\"\n                style={{left: this.state.left, top: this.state.top}}\n            >\n                <input\n                    ref={this.v1}\n                    placeholder=\"0\"\n                    onFocus={() => {\n                        this.v1.current.select()\n                        this.v1.current.setAttribute('tabIndex', 1);\n                        this.v2.current.setAttribute('tabIndex', 2);\n                    }}\n                    onBlur={(e) => this.focusOut(e, 1)}\n                />\n                <div\n                    onClick={() => {\n                        [this.v1.current.value, this.v2.current.value] = [this.v2.current.value, this.v1.current.value];\n                    }}\n                >+</div>\n                <input\n                    ref={this.v2}\n                    placeholder=\"1\"\n                    onFocus={() => {\n                        this.v2.current.select()\n                        this.v2.current.setAttribute('tabIndex', 1);\n                        this.v1.current.setAttribute('tabIndex', 2);\n                    }}\n                    onBlur={(e) => this.focusOut(e, 2)}\n                />\n                <button>З'єднати</button>\n            </form>\n        )\n    }\n}\n\n//=================================================================================\n//=================================================================================\n\nclass PaintButton extends React.Component {\n    constructor(props) {\n        super(props);\n        let scale = 1.0;\n        if (this.props.graph.state.mobile === true) scale *= this.props.graph.state.scale;\n\n        this.state = {\n            left: 10 * scale,\n            top: 10 * scale\n        }\n    }\n\n    drag = (e) => {\n        this.props.graph.drag(e, e.target, this, (_this, pos) => {\n            this.setState({left: pos[0], top: pos[1]});\n        })\n    }\n\n    render() {\n        return (\n            <button\n                onMouseDown={this.drag}\n                onTouchStart={this.drag}\n                onClick={this.props.graph.paintAlgo}\n                style={{\n                    left: this.state.left,\n                    top: this.state.top\n                }}\n            >Фарбувати</button>\n        )\n    }\n}\n\n//=================================================================================\n//=================================================================================\n\nexport {Graph, Node, Edge, EdgeBar, Crosshair, PaintButton};","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {Graph, Node, Edge, EdgeBar, Crosshair, PaintButton} from './App';\n\nconst graph = ReactDOM.render(<Graph DOMElement = {{\n    'Nodes': 'node_container',\n    'Edges': 'edge_container'\n}}/>, document.querySelector('#graph_container'));\n\nif (window.navigator.maxTouchPoints > 0) {\n    document.querySelector('#graph_container').setAttribute('mobile', true); \n    document.querySelector('#edge_bar_container').setAttribute('mobile', true);\n    document.querySelector('#paint_button').setAttribute('mobile', true);\n    document.querySelector('#copyright').setAttribute('mobile', true);\n    graph.setState({mobile: true});\n}\n\nconst edgeBar = ReactDOM.render(<EdgeBar graph={graph}/>, document.querySelector('#edge_bar_container'));\nconst paintButton = ReactDOM.render(<PaintButton graph={graph}/>, document.querySelector('#paint_button'));\n\nlet scale = 1.0;\nif (graph.state.mobile === true) scale *= graph.state.scale;\n\n//=================================================================================\n//=================================================================================\n\ndocument.onmousedown = (e) => {\n    if (e.altKey === true) graph.addNode([e.pageX - 27 * scale / 2, e.pageY - 27 * scale / 2]);\n}\n\ndocument.ondblclick = (e) => {\n    e.preventDefault();\n    if (e.target === document.body) graph.addNode([e.pageX - 27 * scale / 2, e.pageY - 27 * scale / 2]);\n}\n\nlet longTouch;\n\ndocument.ontouchstart = (e) => {\n    if (e.target.tagName === 'BODY') \n        longTouch = setTimeout(() => {\n            graph.addNode([e.touches[0].pageX - 27 * scale / 2, e.touches[0].pageY - 27 * scale / 2]);\n        }, 250);\n}\n\ndocument.ontouchend = (e) => {\n    clearTimeout(longTouch);\n}"],"sourceRoot":""}